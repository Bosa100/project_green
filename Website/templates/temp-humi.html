<html>
	<head>
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/temp-humi.css') }}" type="text/css" media="screen" charset="utf-8" />
	</head>
	<body>
		<h1> Temperature / Humidity Sensor </h1>
		<div id="data-sect">
			<div class="sect">
				<h2> Temperature - Current Data </h2>
				<button class="get_data" id="t">Get Current Temperature</button>
				<div class="data" id="data-t"></div>
				<div id="t-graph-sect">
					<button class="generate" id="t"> Generate Graph </button>
					<div class="graph" id="graph-t"><img width="500" height="500"></div>
				</div>
			</div>	
			<div class="sect">
				<h2> Humidity - Current Data </h2>
				<button class="get_data" id="h">Get Current Humidity</button>
				<div class="data" id="data-h"></div>
				<div id="h-graph-sect">
					<button class="generate" id="h"> Generate Graph </button>
					<div class="graph" id="graph-h"><img src="" width="500" height="500" ></div>	
				</div>
			</div>
		</div>	
	</body>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type=text/javascript>
	        $(function() {
		   var type;
		   var url;
                   var ip;
	          $('.generate').bind('click', function() {
			type = this.id;
			url = "/make_graph/" + type + "/1/5";

	             $.ajax({
			      url: url,
			      type: "get",
			      success: function(response) {
			        $("#graph-" + type).html(response);
			      },
			      error: function(xhr) {
			        alert("error");
			      }
    			});
	          });

	    
		    $('.get_data').bind('click', function() {
		     type = this.id;
		     ip = '{{ ip }}';
	 	     url = "/getJson/" + ip + "/" + type + "/1;
	             $.ajax({
			      url: url,
			      type: "get",
			      id: this.id,
			      success: function(response) {
			        $("#data-" + type).html(response);
			      },
			      error: function(xhr) {
			        alert("error");
			      }
    			});
	          });
        });
	</script>
</html>